# <div dir="rtl">نصيب أضحية العيد</div>

## <div dir="rtl">السؤال</div>

<ul dir="rtl">
<li>
<b>
في ليلة صيفية صافية، صعد ليث قمة جبل ليجمع نجوم السماء في قارورة سحرية. كل نجمة لها لمعان معيّن (رقم صحيح)، والقارورة تتحمل لمعة إجمالية لا تتجاوز قيمة محدّدة. ليث يريد أن يملأ قارورته بأكثر لمعان ممكن دون تجاوز السعة.

لكل نجمة قيمة لمعانٍ (مثل 5، 3، 8، 6، 2) وسعة القارورة مثلاً 14.

إذا جمع ليث النجمتين اللتين لمعانهما 8 و6، تصبح مجموع اللمعان 14 (أقصى حدّ).

لو حاول جمع 8 + 5 + 3 = 16 فلن تناسب القارورة.

مهمتك أن تُساعد ليث في اختيار مجموعة النجوم التي يلتقطها لتمتلئ قارورته بأكبر لمعان ممكن دون تجاوز السعة.

كيف تساعده في هذا التحدي؟
هذا هو مشكلة حقيبة الظهر (0/1 Knapsack) الشهيرة، ويمكنك معالجتها بخطوات:

تمثيل المشكلة ديناميكيًا

أنشئ مصفوفة dp بحجم (capacity+1) حيث
dp[s] = true إذا كان بالإمكان تحقيق لمعان مجموعه s باستخدام بعض النجوم.

التحديث العكسي

لكل نجمة بمعانٍ b، مرّ في s من capacity نزولًا إلى b وعلّم
dp[s] = dp[s] || dp[s - b]

هذا يضمن أنك لا تستخدم النجمة نفسها أكثر من مرة.

إيجاد أفضل لمعة

ابحث عن أكبر s ≤ capacity حيث dp[s] صواب (true).

هذا s هو أقصى لمعان يمكنك جمعه.

إعادة بناء الحلّ

احتفظ بمصفوفة موازية prev[s] تخبرك أي نجمة (أي فهرس) أدّت للوصول إلى s.

تبدأ من أفضل s وترجع خطوة خطوة عبر prev لتجمع قائمة النجوم المختارة.

مثال توضيحي:

brightness = [5, 3, 8, 6, 2]

capacity = 14

نبدأ بـ dp[0] = true (بدون نجوم نجمع لمعان صفر).

نمعالج النجمة 5: نعلّم dp[5] = true.

ثم النجمة 3: نعلّم dp[8] = true (لأن 5+3) و dp[3] = true.

ثم النجمة 8: نعلّم dp[8] (من قبل) و dp[13] = true (5+8) و dp[11] = true (3+8).

تستمرّ حتى كل النجوم.

بعد انتهاء التحديثات، نبحث من s=14 نزولًا: نجده قابلًا (dp[14] = true).

عبر prev نكتشف أنّ 14 جاء من جمع 8 و6.

إذًا المجموعة المختارة هي [8, 6].

</b>
</li>
</ul>

---

## <div dir="rtl">المخرجات المتوقعة</div>

### <div dir="rtl">اختبار 1</div>

#### <div dir="rtl">المُدخلات</div>

```text
brightness = [5, 3, 8, 6, 2]
capacity = 14
```

#### <div dir="rtl">المُخرجات</div>

```text
[6,8]
```

### <div dir="rtl">اختبار 2</div>

#### <div dir="rtl">المُدخلات</div>

```text
brightness = [5, 5, 5, 5]
capacity = 10
```

#### <div dir="rtl">المُخرجات</div>

```text
[5,5]
```

### <div dir="rtl">اختبار 3</div>

#### <div dir="rtl">المُدخلات</div>

```text
brightness = [1, 2, 3, 2]
capacity = 5
```

#### <div dir="rtl">المُخرجات</div>

```text
[2,3]
```

### <div dir="rtl">اختبار 4</div>

#### <div dir="rtl">المُدخلات</div>

```text
brightness = [9, 1, 5]
capacity = 8
```

#### <div dir="rtl">المُخرجات</div>

```text
[1,5]
```